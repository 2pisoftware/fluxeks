FROM fedora:latest

# Install ZSH, Oh my zsh
RUN dnf install -y zsh util-linux-user git wget curl which

# Install NodeJS, NPM from DNF
RUN dnf install -y nodejs npm

# Install AWS-CLI
RUN dnf install -y awscli

# Install AWS-CDK
RUN npm install -g aws-cdk

# Install FluxCD
RUN curl -s https://fluxcd.io/install.sh | bash

# Install Kubectl
RUN curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl" &&\
    mv kubectl /usr/local/bin/kubectl &&\
    chmod +x /usr/local/bin/kubectl